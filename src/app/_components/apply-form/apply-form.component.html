<form [formGroup]="applyForm" (ngSubmit)="onSubmit()" class="space-y-6">
  <!-- Loading resumes -->
  <div *ngIf="isLoadingResumes" class="flex justify-center">
    <i class="fas fa-spinner fa-spin text-amber-600 text-2xl"></i>
  </div>

  <!-- Resume selection -->
  <div *ngIf="!isLoadingResumes" class="space-y-3">
    <label class="block text-sm font-medium text-gray-700">Chá»n há»“ sÆ¡ <span class="text-red-500">*</span></label>
    <div *ngIf="resumes.length === 0" class="text-gray-500 text-sm italic">
      <i class="fas fa-exclamation-circle mr-1"></i> Báº¡n chÆ°a cÃ³ há»“ sÆ¡ nÃ o
    </div>
    <div *ngFor="let resume of resumes" class="space-y-2">
      <label class="flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-amber-50 transition">
        <input
          type="radio"
          formControlName="resume"
          [value]="resume.id"
          class="mr-3 text-amber-600 focus:ring-amber-600"
        />
        <div class="flex-1">
          <div class="font-semibold text-gray-800">
            {{ resume.title || 'Há»“ sÆ¡ khÃ´ng cÃ³ tiÃªu Ä‘á»' }}
          </div>
          <div class="text-xs text-gray-500 italic">
            <ng-container [ngSwitch]="resume.type">
              <ng-container *ngSwitchCase="'WEBSITE'">ğŸ“„ Há»“ sÆ¡ trá»±c tuyáº¿n</ng-container>
              <ng-container *ngSwitchCase="'UPLOAD'">ğŸ“„ Há»“ sÆ¡ Ä‘Ã­nh kÃ¨m</ng-container>
              <ng-container *ngSwitchDefault>ğŸ“„ Há»“ sÆ¡ khÃ´ng xÃ¡c Ä‘á»‹nh</ng-container>
            </ng-container>
          </div>
        </div>
        <a
          [href]="getResumeLink(resume)"
          target="_blank"
          class="text-amber-600 font-semibold text-sm hover:text-amber-700"
        >
          <i class="fas fa-eye mr-1"></i> Xem há»“ sÆ¡
        </a>
      </label>
    </div>
    <div *ngIf="applyForm.get('resume')?.invalid && (applyForm.get('resume')?.touched || applyFormSubmitted)" class="text-red-500 text-xs flex items-center">
      <i class="fas fa-exclamation-circle mr-1"></i> Vui lÃ²ng chá»n má»™t há»“ sÆ¡
    </div>
  </div>

  <!-- Há» vÃ  tÃªn -->
  <div>
    <label class="block mb-1 text-sm font-medium text-gray-700">Há» vÃ  tÃªn <span class="text-red-500">*</span></label>
    <input
      type="text"
      formControlName="fullName"
      placeholder="Nháº­p há» vÃ  tÃªn"
      class="w-full border border-gray-300 rounded-md px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-600"
    />
    <div *ngIf="applyForm.get('fullName')?.invalid && (applyForm.get('fullName')?.touched || applyFormSubmitted)" class="text-red-500 text-xs flex items-center mt-1">
      <i class="fas fa-exclamation-circle mr-1"></i> Há» vÃ  tÃªn lÃ  báº¯t buá»™c
    </div>
  </div>

  <!-- Email -->
  <div>
    <label class="block mb-1 text-sm font-medium text-gray-700">Email <span class="text-red-500">*</span></label>
    <input
      type="email"
      formControlName="email"
      placeholder="Nháº­p email"
      class="w-full border border-gray-300 rounded-md px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-600"
    />
    <div *ngIf="applyForm.get('email')?.invalid && (applyForm.get('email')?.touched || applyFormSubmitted)" class="text-red-500 text-xs flex items-center mt-1">
      <i class="fas fa-exclamation-circle mr-1"></i> Email khÃ´ng há»£p lá»‡
    </div>
  </div>

  <!-- Sá»‘ Ä‘iá»‡n thoáº¡i -->
  <div>
    <label class="block mb-1 text-sm font-medium text-gray-700">Sá»‘ Ä‘iá»‡n thoáº¡i <span class="text-red-500">*</span></label>
    <input
      type="text"
      formControlName="phone"
      placeholder="Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i"
      class="w-full border border-gray-300 rounded-md px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-600"
    />
    <div *ngIf="applyForm.get('phone')?.invalid && (applyForm.get('phone')?.touched || applyFormSubmitted)" class="text-red-500 text-xs flex items-center mt-1">
      <i class="fas fa-exclamation-circle mr-1"></i> Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng há»£p lá»‡
    </div>
  </div>

  <!-- LÆ°u Ã½ -->
  <div class="text-gray-500 text-xs italic">
    <i class="fas fa-info-circle mr-1"></i> LÆ°u Ã½: Há» tÃªn, email, sá»‘ Ä‘iá»‡n thoáº¡i cáº§n chÃ­nh xÃ¡c Ä‘á»ƒ nhÃ  tuyá»ƒn dá»¥ng liÃªn há»‡ vá»›i báº¡n.
  </div>

  <!-- NÃºt á»¨ng tuyá»ƒn -->
  <button
    type="submit"
    class="w-full bg-amber-600 text-white py-2 rounded-md font-medium hover:bg-amber-700 transition flex items-center justify-center gap-2"
    [disabled]="applyForm.invalid"
  >
    <i class="fas fa-paper-plane"></i> á»¨ng tuyá»ƒn
  </button>
</form>
