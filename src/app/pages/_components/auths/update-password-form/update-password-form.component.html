<form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" id="modal-form" class="space-y-4">
  <!-- Old Password -->
  <div class="space-y-1">
    <label class="block text-sm font-medium text-gray-800">
      Mật khẩu hiện tại <span class="text-red-600">*</span>
    </label>
    <input
      type="password"
      formControlName="oldPassword"
      placeholder="Nhập mật khẩu hiện tại"
      class="w-full px-4 py-2 border-2 border-gray-300 rounded-md shadow-md focus:ring-2 focus:ring-amber-600 focus:border-amber-600 hover:border-amber-600 hover:shadow-lg bg-white text-base transition-all duration-300 ease-in-out"
      [ngClass]="{'border-red-600 focus:border-red-600 hover:border-red-600': passwordForm.get('oldPassword')?.errors && passwordForm.get('oldPassword')?.touched}"
    />
    <div
      *ngIf="passwordForm.get('oldPassword')?.errors && passwordForm.get('oldPassword')?.touched"
      class="text-red-600 text-xs mt-1"
    >
      <div *ngIf="passwordForm.get('oldPassword')?.errors?.['required']">Mật khẩu hiện tại là bắt buộc.</div>
      <div *ngIf="passwordForm.get('oldPassword')?.errors?.['maxlength']">Mật khẩu hiện tại quá dài.</div>
      <div *ngIf="passwordForm.get('oldPassword')?.errors?.['server']">{{ passwordForm.get('oldPassword')?.errors?.['server'] }}</div>
    </div>
  </div>

  <!-- New Password -->
  <div class="space-y-1">
    <label class="block text-sm font-medium text-gray-800">
      Mật khẩu mới <span class="text-red-600">*</span>
    </label>
    <input
      type="password"
      formControlName="newPassword"
      placeholder="Nhập mật khẩu mới"
      class="w-full px-4 py-2 border-2 border-gray-300 rounded-md shadow-md focus:ring-2 focus:ring-amber-600 focus:border-amber-600 hover:border-amber-600 hover:shadow-lg bg-white text-base transition-all duration-300 ease-in-out"
      [ngClass]="{'border-red-600 focus:border-red-600 hover:border-red-600': passwordForm.get('newPassword')?.errors && passwordForm.get('newPassword')?.touched}"
    />
    <div
      *ngIf="passwordForm.get('newPassword')?.errors && passwordForm.get('newPassword')?.touched"
      class="text-red-600 text-xs mt-1"
    >
      <div *ngIf="passwordForm.get('newPassword')?.errors?.['required']">Mật khẩu mới là bắt buộc.</div>
      <div *ngIf="passwordForm.get('newPassword')?.errors?.['minlength']">Mật khẩu phải có ít nhất 8 ký tự.</div>
      <div *ngIf="passwordForm.get('newPassword')?.errors?.['maxlength']">Mật khẩu quá dài.</div>
      <div *ngIf="passwordForm.get('newPassword')?.errors?.['pattern']">Mật khẩu phải có chữ hoa, thường, số và ký tự đặc biệt.</div>
      <div *ngIf="passwordForm.get('newPassword')?.errors?.['server']">{{ passwordForm.get('newPassword')?.errors?.['server'] }}</div>
    </div>
  </div>

  <!-- Confirm Password -->
  <div class="space-y-1">
    <label class="block text-sm font-medium text-gray-800">
      Mật khẩu xác nhận <span class="text-red-600">*</span>
    </label>
    <input
      type="password"
      formControlName="confirmPassword"
      placeholder="Nhập lại mật khẩu mới"
      class="w-full px-4 py-2 border-2 border-gray-300 rounded-md shadow-md focus:ring-2 focus:ring-amber-600 focus:border-amber-600 hover:border-amber-600 hover:shadow-lg bg-white text-base transition-all duration-300 ease-in-out"
      [ngClass]="{'border-red-600 focus:border-red-600 hover:border-red-600': (passwordForm.get('confirmPassword')?.errors || passwordForm.errors?.['mismatch']) && passwordForm.get('confirmPassword')?.touched}"
    />
    <div
      *ngIf="(passwordForm.get('confirmPassword')?.errors || passwordForm.errors?.['mismatch']) && passwordForm.get('confirmPassword')?.touched"
      class="text-red-600 text-xs mt-1"
    >
      <div *ngIf="passwordForm.get('confirmPassword')?.errors?.['required']">Mật khẩu xác nhận là bắt buộc.</div>
      <div *ngIf="passwordForm.errors?.['mismatch']">Mật khẩu xác nhận không khớp.</div>
      <div *ngIf="passwordForm.get('confirmPassword')?.errors?.['server']">{{ passwordForm.get('confirmPassword')?.errors?.['server'] }}</div>
    </div>
  </div>
</form>
